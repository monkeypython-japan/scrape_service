# scrape_service
First skill showcase of monkeypython-japan

# これは何？

スキル展示を目的とした POC レベルの Django プロジェクトです。

ユーザが指定した URL と Xpath、インターバルに従い、Web ページのスクレイピングを行い、その結果をデータベースに保存します。
スクレイピングのインターバルは、毎日あるいは毎時の指定が出来ます。保存された結果は一覧ページで確認でき、CSV 形式のファイルとしてダウンロードが可能です。

# みていただきたい事

Django のプロジェクトとして実装を行っています。
“registration” app は Web インターフェースを使ってユーザのログイン、スクレイピングの指示内容の入力と変更、データベースへの更新を行います。
“scrape” app は定期的にデータベースからスクレイピングの仕様を取り出し、スクレイピングを実行して結果をデータベースに書き込みます。

このサービスは多数のユーザからの登録内容を効率的に処理できるよう、スケーラビリティの実現にを主眼において開発を行っています。
scrape app では、スクレイピング実行の前に、タスクの統合を行い、複数のユーザが同一ページを指定している場合でも、一回のページアクセスで複数のユーザのスクレイピングを実行するようにしています。また、Web ページのアクセスは時間がかかるため、ページアクセスからスクレイピングを複数のスレッドに分散しています。このことにより多くのユーザのスクレイピングタスクを効率的に処理できます。

# アプリケーション概要

* registration


* scrape

# TODO

* ログインページ
* ユーザ登録
* 指定されたインターバルでの実行
* CSV ダウンロード
